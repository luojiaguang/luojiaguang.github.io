<!DOCTYPE html>
<!-- saved from url=(0052)http://westonruter.github.io/html5-audio-read-along/ -->
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>scarletletter_01_hawthorne_64kb - 听语族</title>
        <meta name="viewport" content="width=device-width" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<style>
html {
    background: #333;
    font-family: Verdana, sans-serif;
}
body {
    padding: 0;
    margin: 5px;
}
article {
    background: white;
    border-radius: 1em;
    margin-top: 130px;
    padding: 1em;
}
a {
    color: #0E2560;
}
h1 {
    font-size: 14pt;
    white-space: nowrap;
    word-wrap: keep-all;
}
h2 {
    margin-bottom: 1em;
}
#passage-text.speaking {
    -moz-user-select: none;
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

q {
    quotes: "“" "”" "‘" "’";
}
.section-heading {
    display: none;
}
.passage p {
    line-height: 1.4em;
}
.verse-start {
    line-height: 0;
}
.initialized span[data-begin]:focus,
.initialized span[data-begin]:hover {
    background-color: #FFFFCA;
    box-shadow: 0px 0px 4px #FFFFCA;
}
.initialized span[data-begin].speaking {
    background-color: yellow;
    box-shadow: 0px 0px 4px yellow;
}
.initialized span[data-begin] {
    cursor: pointer;
}
.initialized span.nomatch {
    background-color: lightgray;
    color: purple;
}
.error {
    color: red;
}

article > footer {
    border-top: solid 1px gray;
    padding-top: 1em;
    margin-top: 1em;
}

footer {
    margin-bottom: 0.5em;
    line-height: 1.4em;
    font-size: small;
}
footer img {
    vertical-align: text-bottom;
}

header {
    width: 100%;
    color: #cce;
    background-color: #333;
    position: fixed;
    top: 0;
    left: 0;
    overflow: hidden;
    -moz-transition: all 0.5s ease;
    -o-transition: all 0.5s ease;
    -webkit-transition: all 0.5s ease;
    transition: all 0.5s ease;
    text-align: center;
}
header h1 {
    color: #cce;
    -moz-transition: all 0.3s ease;
    -o-transition: all 0.3s ease;
    -webkit-transition: all 0.3s ease;
    transition: all 0.3s ease;
}
header .passage-audio {
    width: 100%;
    text-align: center;
}
header .passage-audio #passage-audio {
    width: 100%;
}
header .passage-control {
    display: block;
    width: 520px;
    height: 40px;
    margin: 5px auto 0 auto;
}
header .playback-rate {
    height: 40px;
    padding: 0px 0px 0px 6px;
    display: block;
    float: left;
}
header .autofocus-current-word {
    height: 40px;
    padding: 0px 0px 0px 6px;
    display: block;
    float: left;
}
header .playback-rate label,
header .playback-rate output,
header .autofocus-current-word label,
header .autofocus-current-word input {
    vertical-align: middle;
    font-size: smaller;
    font-weight: bold;
}

body.sticky-header {
    padding-top: 10px;
}
body.sticky-header header {
    background-color: rgba(127, 127, 127, 0.9);
}
body.sticky-header header h1 {
    display: none;
}
body.sticky-header header .passage-audio {
    padding-top: 5px;
    padding-bottom: 5px;
}
body.sticky-header header .passage-control {
    width: 240px;
}
body.sticky-header header .playback-rate {
}
body.sticky-header header .playback-rate label,
body.sticky-header header .playback-rate output {
    display: none;
}
body.sticky-header header .autofocus-current-word {
}
body.sticky-header header .autofocus-current-word label {
    display: none;
}

input[type=range] {
    -webkit-appearance: none;
    width: 130px;
    border-radius: 10px;
}
input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none;
}
input[type=range]::-webkit-slider-runnable-track {
    width: 130px;
    height: 15px;
    cursor: pointer;
    animate: 0.2s;
    box-shadow: 0 1px 1px #def3f8, inset 0 .125em .125em #0d1112; /*轨道内置阴影效果*/
    border-radius: 10px; /*将轨道设为圆角的*/
}
input[type=range]:focus {
    outline: none;
}
input[type=range]::-ms-track {
    width: 130px;
    cursor: pointer;
    background: transparent;;
    border-color: transparent; /*去除原有边框*/
    color: transparent; /*去除轨道内的竖线*/
}
input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none;
    height: 25px;
    width: 25px;
    margin-top: -5px; /*使滑块超出轨道部分的偏移量相等*/
    background: #ffffff;
    border-radius: 50%; /*外观设置为圆形*/
    border: solid 0.125em rgba(205, 224, 230, 0.5); /*设置边框*/
    box-shadow: 0 .125em .125em #3b4547; /*添加底部阴影*/
}
input[type=range]::-moz-range-progress {
    background: linear-gradient(to right, #059CFA, white 100%, white);
    height: 13px;
    border-radius: 10px;
}
input[type=range]::-ms-track {
    height: 25px;
    border-radius: 10px;
    box-shadow: 0 1px 1px #def3f8, inset 0 .125em .125em #0d1112;
    border-color: transparent; /*去除原有边框*/
    color: transparent; /*去除轨道内的竖线*/
}
input[type=range]::-ms-thumb {
    border: solid 0.125em rgba(205, 224, 230, 0.5);
    height: 25px;
    width: 25px;
    border-radius: 50%;
    background: #ffffff;
    margin-top: -5px;
    box-shadow: 0 .125em .125em #3b4547;
}
input[type=range]::-ms-fill-lower {
    /*进度条已填充的部分*/
    height: 22px;
    border-radius: 10px;
    background: linear-gradient(to right, #059CFA, white 100%, white);
}
input[type=range]::-ms-fill-upper {
    /*进度条未填充的部分*/
    height: 22px;
    border-radius: 10px;
    background: #ffffff;
}
input[type=range]:focus::-ms-fill-lower {
    background: linear-gradient(to right, #059CFA, white 100%, white);
}
input[type=range]:focus::-ms-fill-upper {
    background: #ffffff;
}

.mui-switch {
    width: 58px;
    height: 15px;
    position: relative;
    border: 1px solid #dfdfdf;
    background-color: #fdfdfd;
    box-shadow: #dfdfdf 0 0 0 0 inset;
    border-radius: 20px;
    border-top-left-radius: 20px;
    border-top-right-radius: 20px;
    border-bottom-left-radius: 20px;
    border-bottom-right-radius: 20px;
    background-clip: content-box;
    display: inline-block;
    -webkit-appearance: none;
    user-select: none;
    outline: none;
}
.mui-switch:before {
    content: '';
    width: 26px;
    height: 26px;
    position: absolute;
    top: -6px;
    left: 0;
    border-radius: 20px;
    border-top-left-radius: 20px;
    border-top-right-radius: 20px;
    border-bottom-left-radius: 20px;
    border-bottom-right-radius: 20px;
    background-color: #fff;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
}
.mui-switch:checked {
    border-color: #64bd63;
    box-shadow: #64bd63 0 0 0 16px inset;
    background-color: #64bd63;
}
.mui-switch:checked:before {
    left: 31px;
}
.mui-switch.mui-switch-animbg {
    transition: background-color ease 0.4s;
}
.mui-switch.mui-switch-animbg:before {
    transition: left 0.3s;
}
.mui-switch.mui-switch-animbg:checked {
    box-shadow: #dfdfdf 0 0 0 0 inset;
    background-color: #64bd63;
    transition: border-color 0.4s, background-color ease 0.4s;
}
.mui-switch.mui-switch-animbg:checked:before {
    transition: left 0.3s;
}
.mui-switch.mui-switch-anim {
    transition: border cubic-bezier(0, 0, 0, 1) 0.4s, box-shadow cubic-bezier(0, 0, 0, 1) 0.4s;
}
.mui-switch.mui-switch-anim:before {
    transition: left 0.3s;
}
.mui-switch.mui-switch-anim:checked {
    box-shadow: #64bd63 0 0 0 16px inset;
    background-color: #64bd63;
    transition: border ease 0.4s, box-shadow ease 0.4s, background-color ease 1.2s;
}
.mui-switch.mui-switch-anim:checked:before {
    transition: left 0.3s;
}
</style>
    </head>
    <body class="initialized">

        <header>
            <h1>听语族: scarletletter_01_hawthorne_64kb</h1>

            <div class="passage-audio">
                <audio id="passage-audio" controls="">
                    <!-- @todo WebM? -->
                    <source src="scarletletter_01_hawthorne_64kb.mp3" type="audio/mp3">
                    <em class="error"><strong>Error:</strong> Your browser doesn't appear to support HTML5 Audio.</em>
                </audio>
            </div>

            <div class="passage-control">
                <div class="playback-rate" title="Note that increaseing the reading rate will decrease accuracy of word highlights">
                    <label for="playback-rate">语速:</label>
                    <input id="playback-rate" type="range" min="0.5" max="2.0" value="1.0" step="0.1" onchange="document.querySelector('#playback-rate-curr').innerText = 'x' + String(Math.round(this.valueAsNumber * 10) / 10);">
                    <label id="playback-rate-curr">x1</label>
                </div>
                <div class="autofocus-current-word">
                    <label for="autofocus-current-word">跟随:</label>
                    <input id="autofocus-current-word" class="mui-switch mui-switch-animbg" type="checkbox" checked="checked">
                </div>
            </div>

        </header>

        <article>

            <div class="notice">
                <p class="loading" hidden="">
                    <em> Loading </em>audio
                </p>

                <p class="passage-audio-unavailable" hidden="">
                    <em class="error"><strong>Error:</strong> You will not be able to do the read-along audio because your browser is not able to play MP3, Ogg, or WAV audio formats.</em>
                </p>

                <p class="playback-rate-unavailable" hidden="">
                    <em>(It seems your browser does not support <code>HTMLMediaElement.playbackRate</code>, so you will not be able to change the speech rate.)</em>
                </p>

                <noscript>
                    &lt;p class="error"&gt;&lt;em&gt;&lt;strong&gt;Notice:&lt;/strong&gt; You must have JavaScript enabled/available to try this HTML5 Audio read along.&lt;/em&gt;&lt;/p&gt;
                </noscript>
            </div>

            <div id="passage-text" class="passage">
<p> <span class="nomatch">I</span>  </p>
<p> <span class="nomatch">The</span>  <span class="nomatch">Prison</span> - <span class="nomatch">Door</span>  </p>
<p> <span class="nomatch">A</span>  <span class="nomatch">throng</span>  <span class="nomatch">of</span>  <span class="nomatch">bearded</span>  <span class="nomatch">men</span>  ,  <span class="nomatch">in</span>  <span class="nomatch">sad</span> - <span class="nomatch">colored</span>  <span class="nomatch">garments</span>  <span class="nomatch">and</span>  <span class="nomatch">gray</span>  ,  <span class="nomatch">steeple</span> - <span class="nomatch">crowned</span>  <span class="nomatch">hats</span>  ,  <span class="nomatch">intermixed</span>  <span class="nomatch">with</span>  <span class="nomatch">women</span>  ,  <span class="nomatch">some</span>  <span class="nomatch">wearing</span>  <span class="nomatch">hoods</span>  ,  <span class="nomatch">and</span>  <span class="nomatch">others</span>  <span class="nomatch">bareheaded</span>  ,  <span class="nomatch">was</span>  <span class="nomatch">assembled</span>  <span class="nomatch">in</span>  <span class="nomatch">front</span>  <span class="nomatch">of</span>  <span class="nomatch">a</span>  <span class="nomatch">wooden</span>  <span class="nomatch">edifice</span>  ,  <span class="nomatch">the</span>  <span class="nomatch">door</span>  <span class="nomatch">of</span>  <span class="nomatch">which</span>  <span class="nomatch">was</span>  <span class="nomatch">heavily</span>  <span class="nomatch">timbered</span>  <span class="nomatch">with</span>  <span class="nomatch">oak</span>  ,  <span class="nomatch">and</span>  <span class="nomatch">studded</span>  <span class="nomatch">with</span>  <span class="nomatch">iron</span>  <span class="nomatch">spikes</span>  .</p>
<p> <span class="nomatch">The</span>  <span class="nomatch">founders</span>  <span class="nomatch">of</span>  <span class="nomatch">a</span>  <span class="nomatch">new</span>  <span class="nomatch">colony</span>  ,  <span class="nomatch">whatever</span>  <span class="nomatch">Utopia</span>  <span class="nomatch">of</span>  <span class="nomatch">human</span>  <span class="nomatch">virtue</span>  <span class="nomatch">and</span>  <span class="nomatch">happiness</span>  <span class="nomatch">they</span>  <span class="nomatch">might</span>  <span class="nomatch">originally</span>  <span class="nomatch">project</span>  ,  <span class="nomatch">have</span>  <span class="nomatch">invariably</span>  <span class="nomatch">recognized</span>  <span class="nomatch">it</span>  <span class="nomatch">among</span>  <span class="nomatch">their</span>  <span class="nomatch">earliest</span>  <span class="nomatch">practical</span>  <span class="nomatch">necessities</span>  <span class="nomatch">to</span>  <span class="nomatch">allot</span>  <span class="nomatch">a</span>  <span class="nomatch">portion</span>  <span class="nomatch">of</span>  <span class="nomatch">the</span>  <span class="nomatch">virgin</span>  <span class="nomatch">soil</span>  <span class="nomatch">as</span>  <span class="nomatch">a</span>  <span class="nomatch">cemetery</span>  ,  <span class="nomatch">and</span>  <span class="nomatch">another</span>  <span class="nomatch">portion</span>  <span class="nomatch">as</span>  <span class="nomatch">the</span>  <span class="nomatch">site</span>  <span class="nomatch">of</span>  <span class="nomatch">a</span>  <span class="nomatch">prison</span>  .  <span class="nomatch">In</span>  <span class="nomatch">accordance</span>  <span class="nomatch">with</span>  <span class="nomatch">this</span>  <span class="nomatch">rule</span>  ,  <span class="nomatch">it</span>  <span class="nomatch">may</span>  <span class="nomatch">safely</span>  <span class="nomatch">be</span>  <span class="nomatch">assumed</span>  <span class="nomatch">that</span>  <span class="nomatch">the</span>  <span class="nomatch">forefathers</span>  <span class="nomatch">of</span>  <span class="nomatch">Boston</span>  <span class="nomatch">had</span>  <span class="nomatch">built</span>  <span class="nomatch">the</span>  <span class="nomatch">first</span>  <span class="nomatch">prison</span> - <span class="nomatch">house</span>  ,  <span class="nomatch">somewhere</span>  <span class="nomatch">in</span>  <span class="nomatch">the</span>  <span class="nomatch">vicinity</span>  <span class="nomatch">of</span>  <span class="nomatch">Cornhill</span>  ,  <span class="nomatch">almost</span>  <span class="nomatch">as</span>  <span class="nomatch">seasonably</span>  <span class="nomatch">as</span>  <span class="nomatch">they</span>  <span class="nomatch">marked</span>  <span class="nomatch">out</span>  <span class="nomatch">the</span>  <span class="nomatch">first</span>  <span class="nomatch">burial</span> - <span class="nomatch">ground</span>  ,  <span class="nomatch">on</span>  <span class="nomatch">Isaac</span>  <span class="nomatch">Johnson’s</span>  <span class="nomatch">lot</span>  , 1 <span data-index="138" data-begin="68.9" data-dur="0.149" tabindex="0">and</span>   <span data-index="139" data-begin="69.049" data-dur="0.21" tabindex="0">round</span>   <span data-index="140" data-begin="69.259" data-dur="0.229" tabindex="0">about</span>   <span data-index="141" data-begin="69.519" data-dur="0.13" tabindex="0">his</span>   <span data-index="142" data-begin="69.65" data-dur="0.39" tabindex="0">grave</span>   ,  <span data-index="143" data-begin="70.469" data-dur="0.12" tabindex="0">which</span>   <span data-index="144" data-begin="70.589" data-dur="0.69" tabindex="0">subsequently</span>   <span data-index="145" data-begin="71.419" data-dur="0.35" tabindex="0">became</span>   <span data-index="146" data-begin="71.769" data-dur="0.08" tabindex="0">the</span>   <span data-index="147" data-begin="71.849" data-dur="0.53" tabindex="0">nucleus</span>   <span data-index="148" data-begin="72.41" data-dur="0.17" tabindex="0">of</span>   <span data-index="149" data-begin="72.609" data-dur="0.269" tabindex="0">all</span>   <span data-index="150" data-begin="72.879" data-dur="0.08" tabindex="0">the</span>   <span data-index="151" data-begin="72.959" data-dur="0.59" tabindex="0">congregated</span>   <span class="nomatch">sepulchres</span>  <span class="nomatch">in</span>  <span class="nomatch">the</span>  <span class="nomatch">old</span>  <span class="nomatch">church</span> - <span class="nomatch">yard</span>  <span class="nomatch">of</span>  <span class="nomatch">King’s</span>  <span class="nomatch">Chapel</span>  .  <span class="nomatch">Certain</span>  <span class="nomatch">it</span>  <span class="nomatch">is</span>  ,  <span class="nomatch">that</span>  ,  <span class="nomatch">some</span>  <span class="nomatch">fifteen</span>  <span class="nomatch">or</span>  <span class="nomatch">twenty</span>  <span class="nomatch">years</span>  <span class="nomatch">after</span>  <span class="nomatch">the</span>  <span class="nomatch">settlement</span>  <span class="nomatch">of</span>  <span class="nomatch">the</span>  <span class="nomatch">town</span>  , 2 <span class="nomatch">the</span>  <span class="nomatch">wooden</span>  <span class="nomatch">jail</span>  <span class="nomatch">was</span>  <span class="nomatch">already</span>  <span class="nomatch">marked</span>  <span class="nomatch">with</span>  <span class="nomatch">weather</span> - <span class="nomatch">stains</span>  <span class="nomatch">and</span>  <span class="nomatch">other</span>  <span class="nomatch">indications</span>  <span class="nomatch">of</span>  <span class="nomatch">age</span>  ,  <span class="nomatch">which</span>  <span class="nomatch">gave</span>  <span class="nomatch">a</span>  <span class="nomatch">yet</span>  <span class="nomatch">darker</span>  <span class="nomatch">aspect</span>  <span class="nomatch">to</span>  <span class="nomatch">its</span>  <span class="nomatch">beetle</span> - <span class="nomatch">browed</span>  <span class="nomatch">and</span>  <span class="nomatch">gloomy</span>  <span class="nomatch">front</span>  .  <span class="nomatch">The</span>  <span class="nomatch">rust</span>  <span class="nomatch">on</span>  <span class="nomatch">the</span>  <span class="nomatch">ponderous</span>  <span class="nomatch">iron</span> - <span class="nomatch">work</span>  <span class="nomatch">of</span>  <span class="nomatch">its</span>  <span class="nomatch">oaken</span>  <span class="nomatch">door</span>  <span class="nomatch">looked</span>  <span class="nomatch">more</span>  <span class="nomatch">antique</span>  <span class="nomatch">than</span>  <span class="nomatch">any</span>  <span class="nomatch">thing</span>  <span class="nomatch">else</span>  <span class="nomatch">in</span>  <span class="nomatch">the</span>  <span class="nomatch">new</span>  <span class="nomatch">world</span>  .  <span class="nomatch">Like</span>  <span class="nomatch">all</span>  <span class="nomatch">that</span>  <span class="nomatch">pertains</span>  <span class="nomatch">to</span>  <span class="nomatch">crime</span>  ,  <span class="nomatch">it</span>  <span class="nomatch">seemed</span>  <span class="nomatch">never</span>  <span class="nomatch">to</span>  <span class="nomatch">have</span>  <span class="nomatch">known</span>  <span class="nomatch">a</span>  <span class="nomatch">youthful</span>  <span class="nomatch">era</span>  .  <span class="nomatch">Before</span>  <span class="nomatch">this</span>  <span class="nomatch">ugly</span>  <span class="nomatch">edifice</span>  ,  <span class="nomatch">and</span>  <span class="nomatch">between</span>  <span class="nomatch">it</span>  <span class="nomatch">and</span>  <span class="nomatch">the</span>  <span class="nomatch">wheel</span> - <span class="nomatch">track</span>  <span class="nomatch">of</span>  <span class="nomatch">the</span>  <span class="nomatch">street</span>  ,  <span class="nomatch">was</span>  <span class="nomatch">a</span>  <span class="nomatch">grass</span> - <span class="nomatch">plot</span>  ,  <span class="nomatch">much</span>  <span class="nomatch">overgrown</span>  <span class="nomatch">with</span>  <span class="nomatch">burdock</span>  ,  <span class="nomatch">pig</span> - <span class="nomatch">weed</span>  ,  <span class="nomatch">apple</span> - <span class="nomatch">peru</span>  ,  <span class="nomatch">and</span>  <span class="nomatch">such</span>  <span class="nomatch">unsightly</span>  <span class="nomatch">vegetation</span>  ,  <span class="nomatch">which</span>  <span class="nomatch">evidently</span>  <span class="nomatch">found</span>  <span class="nomatch">something</span>  <span class="nomatch">congenial</span>  <span class="nomatch">in</span>  <span class="nomatch">the</span>  <span class="nomatch">soil</span>  <span class="nomatch">that</span>  <span class="nomatch">had</span>  <span class="nomatch">so</span>  <span class="nomatch">early</span>  <span class="nomatch">borne</span>  <span class="nomatch">the</span>  <span class="nomatch">black</span>  <span class="nomatch">flower</span>  <span class="nomatch">of</span>  <span class="nomatch">civilized</span>  <span class="nomatch">society</span>  ,  <span class="nomatch">a</span>  <span class="nomatch">prison</span>  .  <span class="nomatch">But</span>  ,  <span class="nomatch">on</span>  <span class="nomatch">one</span>  <span class="nomatch">side</span>  <span class="nomatch">of</span>  <span class="nomatch">the</span>  <span class="nomatch">portal</span>  ,  <span class="nomatch">and</span>  <span class="nomatch">rooted</span>  <span class="nomatch">almost</span>  <span class="nomatch">at</span>  <span class="nomatch">the</span>  <span class="nomatch">threshold</span>  ,  <span class="nomatch">was</span>  <span class="nomatch">a</span>  <span class="nomatch">wild</span>  <span class="nomatch">rose</span> - <span class="nomatch">bush</span>  ,  <span class="nomatch">covered</span>  ,  <span class="nomatch">in</span>  <span class="nomatch">this</span>  <span class="nomatch">month</span>  <span class="nomatch">of</span>  <span class="nomatch">June</span>  ,  <span class="nomatch">with</span>  <span class="nomatch">its</span>  <span class="nomatch">delicate</span>  <span class="nomatch">gems</span>  ,  <span class="nomatch">which</span>  <span class="nomatch">might</span>  <span class="nomatch">be</span>  <span class="nomatch">imagined</span>  <span class="nomatch">to</span>  <span class="nomatch">offer</span>  <span class="nomatch">their</span>  <span class="nomatch">fragrance</span>  <span class="nomatch">and</span>  <span class="nomatch">fragile</span>  <span class="nomatch">beauty</span>  <span class="nomatch">to</span>  <span class="nomatch">the</span>  <span class="nomatch">prisoner</span>  <span class="nomatch">as</span>  <span class="nomatch">he</span>  <span class="nomatch">went</span>  <span class="nomatch">in</span>  ,  <span class="nomatch">and</span>  <span class="nomatch">to</span>  <span class="nomatch">the</span>  <span class="nomatch">condemned</span>  <span class="nomatch">criminal</span>  <span class="nomatch">as</span>  <span class="nomatch">he</span>  <span class="nomatch">came</span>  <span class="nomatch">forth</span>  <span class="nomatch">to</span>  <span class="nomatch">his</span>  <span class="nomatch">doom</span>  ,  <span class="nomatch">in</span>  <span class="nomatch">token</span>  <span class="nomatch">that</span>  <span class="nomatch">the</span>  <span class="nomatch">deep</span>  <span class="nomatch">heart</span>  <span class="nomatch">of</span>  <span class="nomatch">Nature</span>  <span class="nomatch">could</span>  <span class="nomatch">pity</span>  <span class="nomatch">and</span>  <span class="nomatch">be</span>  <span class="nomatch">kind</span>  <span class="nomatch">to</span>  <span class="nomatch">him</span>  .</p>
<p> <span class="nomatch">This</span>  <span class="nomatch">rose</span> - <span class="nomatch">bush</span>  ,  <span class="nomatch">by</span>  <span class="nomatch">a</span>  <span class="nomatch">strange</span>  <span class="nomatch">chance</span>  ,  <span class="nomatch">has</span>  <span class="nomatch">been</span>  <span class="nomatch">kept</span>  <span class="nomatch">alive</span>  <span class="nomatch">in</span>  <span class="nomatch">history</span>  ;  <span class="nomatch">but</span>  <span class="nomatch">whether</span>  <span class="nomatch">it</span>  <span class="nomatch">had</span>  <span class="nomatch">merely</span>  <span class="nomatch">survived</span>  <span class="nomatch">out</span>  <span class="nomatch">of</span>  <span class="nomatch">the</span>  <span class="nomatch">stern</span>  <span class="nomatch">old</span>  <span class="nomatch">wilderness</span>  ,  <span class="nomatch">so</span>  <span class="nomatch">long</span>  <span class="nomatch">after</span>  <span class="nomatch">the</span>  <span class="nomatch">fall</span>  <span class="nomatch">of</span>  <span class="nomatch">the</span>  <span class="nomatch">gigantic</span>  <span class="nomatch">pines</span>  <span class="nomatch">and</span>  <span class="nomatch">oaks</span>  <span class="nomatch">that</span>  <span class="nomatch">originally</span>  <span class="nomatch">overshadowed</span>  <span class="nomatch">it</span>  , — <span class="nomatch">or</span>  <span class="nomatch">whether</span>  ,  <span class="nomatch">as</span>  <span class="nomatch">there</span>  <span class="nomatch">is</span>  <span class="nomatch">fair</span>  <span class="nomatch">authority</span>  <span class="nomatch">for</span>  <span class="nomatch">believing</span>  ,  <span class="nomatch">it</span>  <span class="nomatch">had</span>  <span class="nomatch">sprung</span>  <span class="nomatch">up</span>  <span class="nomatch">under</span>  <span class="nomatch">the</span>  <span class="nomatch">footsteps</span>  <span class="nomatch">of</span>  <span class="nomatch">the</span>  <span class="nomatch">sainted</span>  <span class="nomatch">Ann</span>  <span class="nomatch">Hutchinson</span>  ,  <span class="nomatch">as</span>  <span class="nomatch">she</span>  <span class="nomatch">entered</span>  <span class="nomatch">the</span>  <span class="nomatch">prison</span> - <span class="nomatch">door</span>  , — <span class="nomatch">we</span>  <span class="nomatch">shall</span>  <span class="nomatch">not</span>  <span class="nomatch">take</span>  <span class="nomatch">upon</span>  <span class="nomatch">us</span>  <span class="nomatch">to</span>  <span class="nomatch">determine</span>  . 3 <span class="nomatch">Finding</span>  <span class="nomatch">it</span>  <span class="nomatch">so</span>  <span class="nomatch">directly</span>  <span class="nomatch">on</span>  <span class="nomatch">the</span>  <span class="nomatch">threshold</span>  <span class="nomatch">of</span>  <span class="nomatch">our</span>  <span class="nomatch">narrative</span>  ,  <span class="nomatch">which</span>  <span class="nomatch">is</span>  <span class="nomatch">now</span>  <span class="nomatch">about</span>  <span class="nomatch">to</span>  <span class="nomatch">issue</span>  <span class="nomatch">from</span>  <span class="nomatch">that</span>  <span class="nomatch">inauspicious</span>  <span class="nomatch">portal</span>  ,  <span class="nomatch">we</span>  <span class="nomatch">could</span>  <span class="nomatch">hardly</span>  <span class="nomatch">do</span>  <span class="nomatch">otherwise</span>  <span class="nomatch">than</span>  <span class="nomatch">pluck</span>  <span class="nomatch">one</span>  <span class="nomatch">of</span>  <span class="nomatch">its</span>  <span class="nomatch">flowers</span>  <span class="nomatch">and</span>  <span class="nomatch">present</span>  <span class="nomatch">it</span>  <span class="nomatch">to</span>  <span class="nomatch">the</span>  <span class="nomatch">reader</span>  .  <span class="nomatch">It</span>  <span class="nomatch">may</span>  <span class="nomatch">serve</span>  ,  <span class="nomatch">let</span>  <span class="nomatch">us</span>  <span class="nomatch">hope</span>  ,  <span class="nomatch">to</span>  <span class="nomatch">symbolize</span>  <span class="nomatch">some</span>  <span class="nomatch">sweet</span>  <span class="nomatch">moral</span>  <span class="nomatch">blossom</span>  ,  <span class="nomatch">that</span>  <span class="nomatch">may</span>  <span class="nomatch">be</span>  <span class="nomatch">found</span>  <span class="nomatch">along</span>  <span class="nomatch">the</span>  <span class="nomatch">track</span>  ,  <span class="nomatch">or</span>  <span class="nomatch">relieve</span>  <span class="nomatch">the</span>  <span class="nomatch">darkening</span>  <span class="nomatch">close</span>  <span class="nomatch">of</span>  <span class="nomatch">a</span>  <span class="nomatch">tale</span>  <span class="nomatch">of</span>  <span class="nomatch">human</span>  <span class="nomatch">frailty</span>  <span class="nomatch">and</span>  <span class="nomatch">sorrow</span>  .</p>
            </div>

            <footer class="credits">
                <div>阅读外语经典，了解世界文化，复兴中华文明</div>
                <div>听语族外语软件工作室出品 湖南长沙</div>
            </footer>
        </article>

        <footer class="credits">
            Support by
            <a rel="author" href="mailto:knightmade@qq.com">meng gang</a>,
            Code licensed <a href="http://www.opensource.org/licenses/MIT" rel="license">MIT</a>/<a href="http://www.gnu.org/licenses/gpl.html" rel="license">GPL</a>.
        </footer>

<script type="text/javascript">

    /**
     * HTML5 Audio Read-Along
     * @author Weston Ruter, X-Team
     * @license MIT/GPL
     * https://github.com/westonruter/html5-audio-read-along
     */
    var ReadAlong = {
        text_element: null,
        audio_element: null,
        autofocus_current_word: true,

        words: [],

        init: function (args) {
            var name;
            for (name in args) {
                this[name] = args[name];
            }
            this.generateWordList();
            this.addEventListeners();
            this.selectCurrentWord();
        },

        /**
         * Build an index of all of the words that can be read along with their begin,
         * and end times, and the DOM element representing the word.
         */
        generateWordList: function () {
            var word_els = this.text_element.querySelectorAll('[data-begin]');
            this.words = Array.prototype.map.call(word_els, function (word_el, index) {
                var word = {
                    'begin': parseFloat(word_el.dataset.begin),
                    'dur': parseFloat(word_el.dataset.dur),
                    'element': word_el
                };
                word_el.tabIndex = 0; // to make it focusable/interactive
                word.index = index;
                word.end = word.begin + word.dur;
                word_el.dataset.index = word.index;
                return word;
            });
        },

        /**
         * From the audio's currentTime, find the word that is currently being played
         * @todo this would better be implemented as a binary search
         */
        getCurrentWord: function () {
            var i;
            var len;
            var is_current_word;
            var word = null;
            for (i = 0, len = this.words.length; i < len; i += 1) {
                is_current_word = (
                    (
                        this.audio_element.currentTime >= this.words[i].begin
                        &&
                        this.audio_element.currentTime < this.words[i].end
                    )
                    ||
                    (this.audio_element.currentTime < this.words[i].begin)
                );
                if (is_current_word) {
                    word = this.words[i];
                    break;
                }
            }

            if (!word) {
                throw Error('Unable to find current word and we should always be able to.');
            }
            return word;
        },

        _current_end_select_timeout_id: null,
        _current_next_select_timeout_id: null,

        /**
         * Select the current word and set timeout to select the next one if playing
         */
        selectCurrentWord: function() {
            var that = this;
            var current_word = this.getCurrentWord();
            var is_playing = !this.audio_element.paused;

            if (!current_word.element.classList.contains('speaking')) {
                this.removeWordSelection();
                current_word.element.classList.add('speaking');
                if (this.autofocus_current_word) {
                    current_word.element.focus();
                }
            }

            /**
             * The timeupdate Media event does not fire repeatedly enough to be
             * able to rely on for updating the selected word (it hovers around
             * 250ms resolution), so we add a setTimeout with the exact duration
             * of the word.
             */
            if (is_playing) {
                // Remove word selection when the word ceases to be spoken
                var seconds_until_this_word_ends = current_word.end - this.audio_element.currentTime; // Note: 'word' not 'world'! ;-)
                if (typeof this.audio_element === 'number' && !isNaN(this.audio_element)) {
                    seconds_until_this_word_ends *= 1.0/this.audio_element.playbackRate;
                }
                clearTimeout(this._current_end_select_timeout_id);
                this._current_end_select_timeout_id = setTimeout(
                    function () {
                        if (!that.audio_element.paused) { // we always want to have a word selected while paused
                            current_word.element.classList.remove('speaking');
                        }
                    },
                    Math.max(seconds_until_this_word_ends * 1000, 0)
                );

                // Automatically trigger selectCurrentWord when the next word begins
                var next_word = this.words[current_word.index + 1];
                if (next_word) {
                    var seconds_until_next_word_begins = next_word.begin - this.audio_element.currentTime;

                    var orig_seconds_until_next_word_begins = seconds_until_next_word_begins; // temp
                    if (typeof this.audio_element === 'number' && !isNaN(this.audio_element)) {
                        seconds_until_next_word_begins *= 1.0/this.audio_element.playbackRate;
                    }
                    clearTimeout(this._current_next_select_timeout_id);
                    this._current_next_select_timeout_id = setTimeout(
                        function () {
                            that.selectCurrentWord();
                        },
                        Math.max(seconds_until_next_word_begins * 1000, 0)
                    );
                }
            }

        },

        removeWordSelection: function() {
            // There should only be one element with .speaking, but selecting all for good measure
            var spoken_word_els = this.text_element.querySelectorAll('span[data-begin].speaking');
            Array.prototype.forEach.call(spoken_word_els, function (spoken_word_el) {
                spoken_word_el.classList.remove('speaking');
            });
        },


        addEventListeners: function () {
            var that = this;

            /**
             * Select next word (at that.audio_element.currentTime) when playing begins
             */
            that.audio_element.addEventListener('play', function (e) {
                that.selectCurrentWord();
                that.text_element.classList.add('speaking');
            }, false);

            /**
             * Abandon seeking the next word because we're paused
             */
            that.audio_element.addEventListener('pause', function (e) {
                that.selectCurrentWord(); // We always want a word to be selected
                that.text_element.classList.remove('speaking');
            }, false);

            /**
             * Seek by selecting a word (event delegation)
             */
            function on_select_word_el(e) {
                if (!e.target.dataset.begin) {
                    return;
                }
                e.preventDefault();

                var i = e.target.dataset.index;
                that.audio_element.currentTime = that.words[i].begin + 0.01; //Note: times apparently cannot be exactly set and sometimes select too early
                that.selectCurrentWord();
            }
            that.text_element.addEventListener('click', on_select_word_el, false);
            that.text_element.addEventListener('keypress', function (e) {
                if ( (e.charCode || e.keyCode) === 13 /*Enter*/) {
                    on_select_word_el.call(this, e);
                }
            }, false);

            /**
             * Spacebar toggles playback
             */
            document.addEventListener('keypress', function (e) {
                if ( (e.charCode || e.keyCode) === 32 /*Space*/) {
                    e.preventDefault();
                    if (that.audio_element.paused) {
                        that.audio_element.play();
                    }
                    else {
                        that.audio_element.pause();
                    }
                }
            }, false);

            /**
             * First click handler sets currentTime to the word, and second click
             * here then causes it to play.
             * @todo Should it stop playing once the duration is over?
             */
            that.text_element.addEventListener('dblclick', function (e) {
                e.preventDefault();
                that.audio_element.play();
            }, false);

            /**
             * Select a word when seeking
             */
            that.audio_element.addEventListener('seeked', function (e) {
                that.selectCurrentWord();

                /**
                 * Address probem with Chrome where sometimes it seems to get stuck upon seeked:
                 * http://code.google.com/p/chromium/issues/detail?id=99749
                 */
                var audio_element = this;
                if (!audio_element.paused) {
                    var previousTime = audio_element.currentTime;
                    setTimeout(function () {
                        if (!audio_element.paused && previousTime === audio_element.currentTime) {
                            audio_element.currentTime += 0.01; // Attempt to unstick
                        }
                    }, 500);
                }
            }, false);

            /**
             * Select a word when seeking
             */
            that.audio_element.addEventListener('ratechange', function (e) {
                that.selectCurrentWord();
            }, false);
        }
    };

    /*global ReadAlong */
    window.addEventListener('load', function (e) {
        try {
            var args = {
                text_element: document.getElementById('passage-text'),
                audio_element: document.getElementById('passage-audio'),
                autofocus_current_word: document.getElementById('autofocus-current-word').checked
            };

            if (!args.audio_element.canPlayType) {
                // No error messaging is needed because error message appears in <audio> fallback
                throw new Error('HTML5 Audio not supported');
            }
            if (args.audio_element.networkState === args.audio_element.NETWORK_NO_SOURCE) {
                document.querySelector('.passage-audio-unavailable').hidden = false;
                throw new Error('Cannot play any of the available sources');
            }

            var supports_playback_rate = (function (audio) {
                if (typeof audio.playbackRate !== 'number' || isNaN(audio.playbackRate)) {
                    return false;
                }

                // For Opera, since it doesn't currently support playbackRate and yet
                // has it defined as 1.0, we can detect Opera support by changing
                // the playbackRate and see if the change sticks.
                var original_playback_rate = audio.playbackRate;
                audio.playbackRate += 1.0;
                var is_playback_rate_changed = (original_playback_rate !== audio.playbackRate);
                audio.playbackRate = original_playback_rate;
                return is_playback_rate_changed;
            }(args.audio_element));

            if (supports_playback_rate) {
                var rate_range_element = document.getElementById('playback-rate');
                rate_range_element.disabled = false;
                rate_range_element.addEventListener('change', function (e) {
                    args.audio_element.playbackRate = this.valueAsNumber;
                }, false);
            }
            else {
                document.querySelector('.playback-rate-unavailable').hidden = false;
            }

            ReadAlong.init(args);

            document.getElementById('autofocus-current-word').addEventListener('change', function (e) {
                ReadAlong.autofocus_current_word = this.checked;
            }, false);

            document.querySelector('.passage-audio').hidden = false;
            if (supports_playback_rate) {
                document.querySelector('.playback-rate').hidden = false;
            }
            document.querySelector('.autofocus-current-word').hidden = false;
        } catch (err) {
            console.error(err);
        }
        document.body.classList.add('initialized');
        document.querySelector('.loading').hidden = true;

        var ElementClass = {
            dict: {},

            create: function(class_name) {
                var tmp = class_name.split(/[\s\t\r\n]+/);
                var dict = {};
                for (var i in tmp) {
                    var x = tmp[i];
                    if (x && !(x in dict)) {
                        dict[x] = true;
                    }
                }
                this.dict = dict;
                return this;
            },

            hasClass: function(class_name) {
                return class_name in this.dict;
            },

            addClass: function(class_name) {
                this.dict[class_name] = true;
            },

            removeClass: function(class_name) {
                delete this.dict[class_name];
            },

            toString: function() {
                var tmp = [];
                for (var x in this.dict) {
                    tmp.push(x);
                }
                return tmp.join(' ');
            },
        };

        window.addEventListener('scroll', function(e) {
            var bodyClass = ElementClass.create(document.querySelector('body').className);
            if (window.scrollY >= 100) {
                bodyClass.addClass('sticky-header');
            } else {
                bodyClass.removeClass('sticky-header');
            }
            document.querySelector('body').className = bodyClass.toString();
        }, false);

    }, false);


</script>


    </body>
</html>
